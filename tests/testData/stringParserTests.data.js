import { BidsHedIssue } from '../../bids'
import { generateIssue } from '../../common/issues/issues'

export const convertSchemaVersionsToPreload = ['8.3.0']
export const conversionTestData = [
  {
    name: 'valid-long-to-short',
    description: 'Valid long to short conversions',
    tests: [
      {
        testname: 'single-tag-single-level-to-short',
        explanation: '"Event" is a single level tag"',
        schemaVersion: '8.3.0',
        stringIn: 'Event',
        stringOut: 'Event',
        operation: 'toShort',
        errors: [],
        warnings: [],
      },
      {
        testname: 'single-tag-two-level-to-short',
        explanation: '"Event/Sensory-event" is a two-level tag',
        schemaVersion: '8.3.0',
        stringIn: 'Event/Sensory-event',
        stringOut: 'Sensory-event',
        operation: 'toShort',
        errors: [],
        warnings: [],
      },
      {
        testname: 'single-tag-multi-level-to-short',
        explanation: '"Item/Object/Geometric-object" is a full multi-level tag',
        schemaVersion: '8.3.0',
        stringIn: 'Item/Object/Geometric-object',
        stringOut: 'Geometric-object',
        operation: 'toShort',
        errors: [],
        warnings: [],
      },
      {
        testname: 'single-partial-level-tag-to-short',
        explanation: '"Object/Geometric-object" is a partial path',
        schemaVersion: '8.3.0',
        stringIn: 'Object/Geometric-object',
        stringOut: 'Geometric-object',
        operation: 'toShort',
        errors: [],
        warnings: [],
      },
      {
        testname: 'already-short-tag-to-short',
        explanation: '"Geometric-object" is already a short tag',
        schemaVersion: '8.3.0',
        stringIn: 'Geometric-object',
        stringOut: 'Geometric-object',
        operation: 'toShort',
        errors: [],
        warnings: [],
      },
      {
        testname: 'single-tag-extension-to-short',
        explanation: '"Unique-value" is a valid extension for "Item/Sound/Environmental-sound/Unique-value"',
        schemaVersion: '8.3.0',
        stringIn: 'Item/Sound/Environmental-sound/Unique-value',
        stringOut: 'Environmental-sound/Unique-value',
        operation: 'toShort',
        errors: [],
        warnings: [],
      },
      {
        testname: 'multi-level-tag-extension-to-short',
        explanation: '"Unique-value/Junk" is a valid extension for "Item/Sound/Environmental-sound/Unique-value/Junk"',
        schemaVersion: '8.3.0',
        stringIn: 'Item/Sound/Environmental-sound/Unique-value/Junk',
        stringOut: 'Environmental-sound/Unique-value/Junk',
        operation: 'toShort',
        errors: [],
        warnings: [],
      },
      {
        testname: 'multi-level-tag-extension-for-partial-path-to-short',
        explanation: '"Unique-value/Junk" is a valid extension for "Sound/Environmental-sound/Unique-value/Junk"',
        schemaVersion: '8.3.0',
        stringIn: 'Sound/Environmental-sound/Unique-value/Junk',
        stringOut: 'Environmental-sound/Unique-value/Junk',
        operation: 'toShort',
        errors: [],
        warnings: [],
      },
    ],
  },
  {
    name: 'invalid-long-to-short',
    description: 'Invalid long to short conversions',
    tests: [
      {
        testname: 'single-level-extension-already-a-tag',
        explanation: '"Event" in "Item/Sound/Event" is already a tag',
        schemaVersion: '8.3.0',
        stringIn: 'Item/Sound/Event',
        stringOut: null,
        operation: 'toShort',
        errors: [generateIssue('invalidParentNode', { tag: 'Event', parentTag: 'Event' })],
        warnings: [],
      },
      {
        testname: 'multi-level-extension-already-tags',
        explanation: '"Sensory-event" in "Item/Sound/Environmental-sound/Event/Sensory-event" is already a tag',
        schemaVersion: '8.3.0',
        stringIn: 'Item/Sound/Environmental-sound/Event/Sensory-event',
        stringOut: null,
        operation: 'toShort',
        errors: [generateIssue('invalidParentNode', { parentTag: 'Event', tag: 'Event' })],
        warnings: [],
      },
      {
        testname: 'mixed-extension-path',
        explanation: '"Sensory-event" in "Item/Sound/Event/Sensory-event/Environmental-sound"',
        schemaVersion: '8.3.0',
        stringIn: 'Item/Sound/Event/Sensory-event/Environmental-sound',
        stringOut: null,
        operation: 'toShort',
        errors: [generateIssue('invalidParentNode', { parentTag: 'Event', tag: 'Event' })],
        warnings: [],
      },
      {
        testname: 'mixed-extension-path',
        explanation: '"Sensory-event" in "Item/Sound/Event/Sensory-event/Environmental-sound"',
        schemaVersion: '8.3.0',
        stringIn: 'Item/Sound/Event/Sensory-event/Environmental-sound',
        stringOut: null,
        operation: 'toShort',
        errors: [generateIssue('invalidParentNode', { parentTag: 'Event', tag: 'Event' })],
        warnings: [],
      },
      {
        testname: 'invalid-leading-tag',
        explanation: '"Junk" in "Junk/Item/Sound/Event/Sensory-event/Environmental-sound" is invalid',
        schemaVersion: '8.3.0',
        stringIn: 'Junk/Item/Sound/Event/Sensory-event/Environmental-sound',
        stringOut: null,
        operation: 'toShort',
        errors: [generateIssue('invalidTag', { tag: 'Junk/Item/Sound/Event/Sensory-event/Environmental-sound' })],
        warnings: [],
      },
      {
        testname: 'invalid-single-tag',
        explanation: '"Junk" in "Junk" is invalid',
        schemaVersion: '8.3.0',
        stringIn: 'Junk',
        stringOut: null,
        operation: 'toShort',
        errors: [generateIssue('invalidTag', { tag: 'Junk' })],
        warnings: [],
      },
      {
        testname: 'invalid-single-tag-with-extension',
        explanation: '"Junk/Blech" in "Junk" is invalid',
        schemaVersion: '8.3.0',
        stringIn: 'Junk/Blech',
        stringOut: null,
        operation: 'toShort',
        errors: [generateIssue('invalidTag', { tag: 'Junk/Blech' })],
        warnings: [],
      },
      {
        testname: 'invalid-tag-in-middle',
        explanation:
          '"Geometric-object" in "Item/Object/Junk/Geometric-object/2D-shape" expects "Object" not "junk" to be parent',
        schemaVersion: '8.3.0',
        stringIn: 'Item/Object/Junk/Geometric-object/2D-shape',
        stringOut: null,
        operation: 'toShort',
        errors: [
          generateIssue('invalidParentNode', { parentTag: 'Item/Object/Geometric-object', tag: 'Geometric-object' }),
        ],
        warnings: [],
      },
      {
        testname: 'invalid-extension',
        explanation: '"Agent-action" in "Event/Agent-action/Baloney/Blech" cannot have an added extension',
        schemaVersion: '8.3.0',
        stringIn: 'Event/Agent-action/Baloney/Blech',
        stringOut: null,
        operation: 'toShort',
        errors: [generateIssue('invalidExtension', { parentTag: 'Event/Agent-action', tag: 'Baloney' })],
        warnings: [],
      },
    ],
  },
]
